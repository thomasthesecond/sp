$mq: #{(1024 / 16) * 1em};

@keyframes image-scale {
  0% {
    transform: scale(1.05);
  }

  100% {
    transform: scale(1);
  }
}

.js {
  .Introduction.can-animate {
    @media (min-width: $mq) {
      opacity: 0;
      transform: translateY(100px);
      transition: opacity 400ms, transform 400ms;

      &::after {
        transition: width 400ms 400ms;
        width: 0;
      }
    }
  }

  .Introduction.will-animate {
    @media (min-width: $mq) {
      opacity: 1;
      transform: translateY(0);

      &::after {
        width: #{(264 / $max-width) * 100vw};
      }
    }
  }

  .ImageBlock.can-animate > a::after {
    @media (min-width: $mq) {
      background-color: $color-background-default;
      content: "";
      display: block;
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
      transform: translateX(0);
      transition: transform 2000ms;
      width: 100%;
    }
  }

  .ImageBlock.will-animate > a::after {
    @media (min-width: $mq) {
      transform: translateX(100%);
    }
  }

  .ImageBlock.can-animate .ImageBlock-photo {
    @media (min-width: $mq) {
      // transform: scale(1.05);
      // transition: transform 3000ms 500ms;
    }
  }

  .ImageBlock.can-animate .ImageBlock-text {
    @media (min-width: $mq) {
      opacity: 0;
      transition: opacity 1000ms 800ms;
    }
  }

  .ImageBlock.will-animate .ImageBlock-photo {
    @media (min-width: $mq) {
      // transform: scale(1);
      animation-name: image-scale;
      animation-duration: 2500ms;
      animation-delay: 500ms;
      animation-fill-mode: backwards;
      animation-iteration-count: 1;
    }
  }

  .ImageBlock.will-animate .ImageBlock-text {
    @media (min-width: $mq) {
      opacity: 1;
    }
  }
}
